{"version":3,"sources":["webpack:///./src/utils/http/index.js","webpack:///./src/utils/api.js"],"names":["axios","defaults","headers","interceptors","request","use","config","token","sessionStorage","err","promise_default","a","reject","API","url","method","params","resolve","param","ajx","obj","str","k","substring","length","stringify","get","user_id","delete","put","post","then","res","status","data","code","location","href","error","errCode","catch","fetch","__webpack_exports__","loginAction","Content-Type","remindbasicinfo","getAllFieldType","approveRecordList","approveOwnRecordList","updateApproveRecord","queryApproveRecordDetail","appFileListByCondition","checkWaterMarkExistAPI"],"mappings":"8GAEAA,IAAMC,SAASC,QAAQ,gBAAkB,oCACzCF,IAAMG,aAAaC,QAAQC,IAAI,SAAAC,GAE7B,IAAIC,EAAQC,eAAeD,MAI3B,OAHIA,IACHD,EAAOJ,QAAP,MAA0BK,GAEpBD,GAER,SAAAG,GACC,OAAOC,EAAAC,EAAQC,OAAOH,KCNxB,IAEMI,EAAM,SAACC,EAAKC,EAAQT,GAAd,OAAyB,SAAAU,GAAA,ODMhB,SAACF,EAAKE,EAAQD,EAAQT,GAI1C,OAHKU,IACJA,MAEM,IAAIN,EAAAC,EAAQ,SAACM,EAASL,GAC5B,IAAIM,SAAOC,SAEVD,EADGZ,GAAUA,EAAOJ,SAA8C,qBAAnCI,EAAOJ,QAAQ,gBACtCc,EAyCX,SAAmBI,GAClB,IAAIC,EAAM,GACV,IAAK,IAAIC,KAAKF,EACbC,GAAQC,EAAI,IAAMF,EAAIE,GAAK,IAE5B,OAAOD,EAAIE,UAAU,EAAGF,EAAIG,OAAS,GA5C3BC,CAAUT,GAEJ,QAAXD,EAEFI,EADGD,EACGlB,IAAM0B,IAAIZ,EAAM,IAAMI,EAAOZ,GAE7BN,IAAM0B,IAAIZ,EAAKR,GAED,WAAXS,GACVC,EAAOW,QAAU,MACjBR,EAAMnB,IAAM4B,OAAOd,EAAKI,EAAOZ,IAE/Ba,EADqB,QAAXJ,EACJf,IAAM6B,IAAIf,EAAKI,EAAOZ,GAEtBN,IAAM8B,KAAKhB,EAAKI,EAAOZ,GAE9Ba,EAAIY,KAAK,SAAAC,GACW,MAAfA,EAAIC,OACc,QAAjBD,EAAIE,KAAKC,MAAmC,QAAjBH,EAAIE,KAAKC,MAAmC,QAAjBH,EAAIE,KAAKC,KAClEC,SAASC,KAAO,IAEhBpB,EAAQe,EAAIE,MAGkB,MAA3BF,EAAIE,KAAKI,MAAMC,QAElBH,SAASC,KAAO,IAEhBpB,EAAQe,EAAIE,QAGZM,MAAM,SAAC/B,GACTG,EAAOH,OC/CqCgC,CAF5B,OAEgD3B,EAAKE,EAAQD,GAAU,OAAQT,SAEnFoC,EAAA,GACbC,YAAa9B,EAAI,cAAe,QAC9BX,SACE0C,eAAgB,sBAGpBC,gBAAiBhC,EAAI,0BAA2B,QAC9CX,SACE0C,eAAgB,sBAGpBE,gBAAiBjC,EAAI,yBAA0B,OAC7CX,aAGF6C,kBAAmBlC,EAAI,mCAAoC,QACzDX,SACE0C,eAAgB,sBAGpBI,qBAAsBnC,EAAI,sCAAuC,QAC/DX,SACE0C,eAAgB,sBAGpBK,oBAAqBpC,EAAI,qCAAsC,QAC7DX,SACE0C,eAAgB,sBAGpBM,yBAA0BrC,EAAI,0CAA2C,UACzEsC,uBAAwBtC,EAAI,+BAAgC,QAC1DX,SACE0C,eAAgB,sBAGpBQ,uBAAwBvC,EAAI,iCAAkC,QAC5DX,SACE0C,eAAgB","file":"static/js/0.ad4a579407a20847e777.js","sourcesContent":["import Vue from 'vue';\r\nimport axios from 'axios';\r\naxios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded';\r\naxios.interceptors.request.use(config => {\r\n\t\t// 判断是否存在token，如果存在的话，则每个http header都加上token 用于将来的身份验证\r\n\t\tlet token = sessionStorage.token;\r\n\t\tif (token) {\r\n\t\t\tconfig.headers['token'] = token;\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\terr => {\r\n\t\treturn Promise.reject(err);\r\n\t});\r\nexport const fetch = (url, params, method, config) => {\r\n\tif (!params) {\r\n\t\tparams = {};\r\n\t}\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet param, ajx;\r\n\t\tif (config && config.headers && config.headers['Content-Type'] === 'application/json') {\r\n\t\t\tparam = params;\r\n\t\t} else {\r\n\t\t\tparam = stringify(params);\r\n\t\t}\r\n\t\tif (method === 'get') {\r\n\t\t\tif (param) {\r\n\t\t\t\tajx = axios.get(url + '?' + param, config)\r\n\t\t\t} else {\r\n\t\t\t\tajx = axios.get(url, config)\r\n\t\t\t}\r\n\t\t} else if (method === 'delete') {\r\n\t\t\tparams.user_id = '222';\r\n\t\t\tajx = axios.delete(url, param, config);\r\n\t\t} else if (method === 'put') {\r\n\t\t\tajx = axios.put(url, param, config);\r\n\t\t} else {\r\n\t\t\tajx = axios.post(url, param, config);\r\n\t\t}\r\n\t\tajx.then(res => {\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tif (res.data.code == '1001' || res.data.code == '1002' || res.data.code == '1003') { //token失效\r\n\t\t\t\t\tlocation.href = '/';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(res.data);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (res.data.error.errCode === 600) {\r\n\t\t\t\t\t// 登陆信息不完整\r\n\t\t\t\t\tlocation.href = '/';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(res.data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).catch((err) => {\r\n\t\t\treject(err)\r\n\t\t\t//errorHandle(err);\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// 将application/json参数格式 转换为application/x-www-form-urlencoded方式\r\nfunction stringify(obj) {\r\n\tlet str = '';\r\n\tfor (let k in obj) {\r\n\t\tstr += (k + '=' + obj[k] + '&');\r\n\t}\r\n\treturn str.substring(0, str.length - 1);\r\n};\r\n\r\nfunction errorHandle() {\r\n\t// 处理接口错误\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http/index.js","import {\r\n  fetch\r\n} from './http';\r\n// request payload形式的参数需要配置，headers的content-Type: application/json,\r\n// 如果不配置默认是form Data形式\r\n// const development = 'http://localhost:3618';\r\nconst development ='/api';\r\n//const development = process.env.NODE_ENV === \"development\" ? '/api' : '';\r\nconst API = (url, method, config) => params => fetch(development + url, params, method || 'post', config || {});\r\n\r\nexport default {\r\n  loginAction: API('/user/login', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }),\r\n  remindbasicinfo: API('/remind/remindbasicinfo', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }), //消息通知\r\n  getAllFieldType: API('/table/getAllFieldType', 'get', {\r\n    headers: {}\r\n  }), //获取表单字段控件的类型\r\n  /* 审批管理 */\r\n  approveRecordList: API('/approveRecord/approveRecordList', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }),\r\n  approveOwnRecordList: API('/approveRecord/approveOwnRecordList', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }),\r\n  updateApproveRecord: API('/approveRecord/updateApproveRecord', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }),\r\n  queryApproveRecordDetail: API('/approveRecord/queryApproveRecordDetail', 'get', {}),\r\n  appFileListByCondition: API('/file/appFileListByCondition', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }),\r\n  checkWaterMarkExistAPI: API('/watermark/checkWaterMarkExist', 'post', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }), // 打印文件校验\r\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.js"],"sourceRoot":""}